---
# Manage Meraki organization SAML settings — gather current configuration

- name: Gather current organization_saml configuration
  cisco.meraki_rm.meraki_organization_saml:
    organization_id: "123456"
    state: gathered
  register: gathered

- name: Assert gathered config is not empty
  ansible.builtin.assert:
    that:
      - gathered.config is defined
      - gathered.config | length > 0
    fail_msg: "Gathered config is empty — expected at least one resource"

- name: Display gathered configuration
  ansible.builtin.debug:
    var: gathered.config
