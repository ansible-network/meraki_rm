---
# Manage Meraki device switch routing interfaces â€” remove configuration

- name: Define resource to delete
  ansible.builtin.set_fact:
    expected_config:
      interface_id: example
      vlan_id: "100"

- name: Delete device_switch_routes configuration
  cisco.meraki_rm.meraki_device_switch_routes:
    serial: "Q2XX-XXXX-XXXX"
    state: deleted
    config:
      - "{{ expected_config }}"
  register: delete_result

- name: Assert resource was deleted
  ansible.builtin.assert:
    that:
      - delete_result is changed
      - delete_result is not failed
