---
# Manage Meraki appliance firewall rules — gather current configuration

- name: Gather current appliance_firewall configuration
  cisco.meraki_rm.meraki_appliance_firewall:
    network_id: "N_123456789012345678"
    state: gathered
  register: gathered

- name: Assert gathered config is not empty
  ansible.builtin.assert:
    that:
      - gathered.config is defined
      - gathered.config | length > 0
    fail_msg: "Gathered config is empty — expected at least one resource"

- name: Display gathered configuration
  ansible.builtin.debug:
    var: gathered.config
