---
- name: "Verify \u2014 device_switch_routes (gathered)"
  hosts: localhost
  gather_facts: false
  tasks:
  - name: Gather current configuration
    cisco.meraki_rm.meraki_device_switch_routes:
      serial: Q2XX-device_switch_routes-gathered
      state: gathered
    register: gathered
  - name: Assert gathered configuration is not empty
    ansible.builtin.assert:
      that:
      - gathered.gathered is defined
      - gathered.gathered | length > 0
      fail_msg: "Gathered config is empty \u2014 expected at least one resource"
