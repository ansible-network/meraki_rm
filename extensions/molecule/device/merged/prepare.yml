---
# Seed device in mock so merged converge can GET then PUT.
# The device endpoint has no POST; PUT does upsert.
- name: "Prepare â€” device (merged)"
  hosts: localhost
  gather_facts: false
  tasks:
  - name: Seed device via PUT (upsert)
    ansible.builtin.uri:
      url: "{{ meraki_dashboard_url }}/devices/Q2XX-device-merged"
      method: PUT
      body_format: json
      body:
        name: Test-Config
        tags:
        - ansible
        - test
        lat: 37.7749
        lng: -122.4194
        address: 500 Terry Francine Street
        notes: example
        moveMapMarker: true
        floorPlanId: example
      status_code: [200]
